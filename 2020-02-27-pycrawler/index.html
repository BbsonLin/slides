<!DOCTYPE html>
<html lang="en-us" prefix="og: http://ogp.me/ns#">
  <head>
	<meta name="generator" content="Hugo 0.56.0" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <title></title>
    <meta name="author" content="Bobson">
    

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,700,700i%7CMaitree:200,300,400,600,700&amp;subset=latin-ext" rel="stylesheet">

    
    <link rel="stylesheet" type='text/css' media='all' href="css/webslides.css">
    <link rel="stylesheet" type="text/css" media="all" href="css/svg-icons.css">
    

    
    <link rel="shortcut icon" sizes="16x16" href="/img/favicons/favicon.png">
    <link rel="shortcut icon" sizes="32x32" href="/img/favicons/favicon-32.png">
    <link rel="apple-touch-icon icon" sizes="76x76" href="/img/favicons/favicon-76.png">
    <link rel="apple-touch-icon icon" sizes="120x120" href="/img/favicons/favicon-120.png">
    <link rel="apple-touch-icon icon" sizes="152x152" href="/img/favicons/favicon-152.png">
    <link rel="apple-touch-icon icon" sizes="180x180" href="/img/favicons/favicon-180.png">
    <link rel="apple-touch-icon icon" sizes="192x192" href="/img/favicons/favicon-192.png">

    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#333333">
    
  </head>
  <body>
    
    <main role="main">
      <article id="webslides">
        


  

  

      

      <section id="slide1">
        <div class="wrap">
          <div class="aligncenter">



<h1 id="toc_0">爬蟲框架 Scrapy</h1>

<p class="text-subtitle"> <strong>Bobson Lin</strong></p>

<p><strong>2020-02-27</strong></p>

<p>Made with <a href="https://webslides.tv">WebSlides</a></p>

 
          </div></div>
      </section>
      

      <section id="slide2">
        <div class="wrap">



<h1 id="toc_1" class="text-landing"> <strong>OUTLINE</strong></h1>

<ul class="flexblock reasons">
<li class="text-intro"><a href="#slide=3"><strong>Introduction</strong></a></li>
<li class="text-intro"><a href="#slide=4"><strong>Practice: Crawling PTT</strong></a></li>
<li class="text-intro"><a href="#slide=5"><strong>Practice: Crawling Cupoy</strong></a></li>
</ul>

 </div>
      </section>
      

      <section id="slide3">
        <div class="wrap">



<h1 id="toc_2"><strong>Introduction</strong></h1>


          <div class="grid">
            <div class="column">

<p><a href="https://scrapy.org/"><img src="https://docs.scrapy.org/en/latest/_images/scrapy_architecture_02.png" alt="Scrapy Architecture" /></a>
Ref: <a href="https://docs.scrapy.org/en/latest/topics/architecture.html">https://docs.scrapy.org/en/latest/topics/architecture.html</a></p>

</div>
            <div class="column">

<ul>
<li>Scrapy Engine: 整個框架的核心負責處理整個系統的資料流與事件。</li>
<li>Scheduler: 排程器，接收Engine的請求放到佇列中並決定下一個要抓取的網址（預設也會去除重複的網址）。</li>
<li>Downloader: 用於下載網頁內容(發送HTTP請求/接收HTTP回應)，並將內容返回給 Spider。</li>
<li>Spiders: 從網頁中提取自己需要的項目。</li>
<li>Item Pipeline: 用來持久化實體、驗證實體的有效性、清除不需要的資訊。當頁面被解析後發送到專案管道經過幾個特定的順序處理資料。</li>
</ul><hr /><ol>
<li>Spider 發送最初的請求(Requests)給Engine。</li>
<li>Engine 在 Scheduler 調度一個請求(Request)，並要求下一次 Requests 做爬取。</li>
<li>Scheduler 回傳下一個 Request 給 Engine。</li>
<li>Engine 透過 Downloader Middlewares 發送請求給 Downloader。</li>
<li>只要頁面結束下載，Downloader 產生一個 Response 透過 Downloader Middlewares 傳送給 Engine。</li>
<li>Engine 收到來自 Downloader 的 Response 並透過 Spider Middlewares 發送給 Spider 處理。</li>
<li>Spider 處理 Response 並爬取的項目(item)和新的請求(Requests)，透過Spider Middlewares回傳給Engine。</li>
<li>Engine 發送處理的項目(item)給 Item Pipelines 接著發送處理的請求(Requests)到Scheduler要求下一個可能的爬蟲請求。</li>
</ol>

</div>
          </div> </div>
      </section>
      

      <section id="slide4">
        <div class="wrap">



<h1 id="toc_3"><strong>Practice: Crawling PTT</strong></h1>

<p><a href="https://github.com/BbsonLin/cupoy-pycrawler-2019/tree/master/myproject">Crawling PTT</a></p>

<p><img src="https://i.imgur.com/LeolUmL.png" alt="Imgur" /></p>

 </div>
      </section>
      

      <section id="slide5">
        <div class="wrap">



<h1 id="toc_4"><strong>Practice: Crawling Cupoy</strong></h1>

<p><a href="https://www.cupoy.com/newsfeed/topstory">https://www.cupoy.com/newsfeed/topstory</a></p>

<p><img src="https://i.imgur.com/o0j9Xyx.png" alt="Imgur" /></p>

 </div>
      </section>
      

      <section id="slide6" class="bg-black-blue">
        <div class="wrap fadeInUp">
          <div class="aligncenter">



<h1 id="toc_5">To Be Continued&hellip;</h1>
 
          </div></div>
      </section> 

      </article>
    </main>

    
    <script src="js/webslides.min.js"></script>
<script>window.ws = new WebSlides({minWheelDelta: 40 ,scrollWait: 450 ,slideOffset: 50 ,});</script>
<script defer src="js/svg-icons.js"></script>

  </body>
</html>
